
# ç®€å•è¯´æ˜


è¿™é‡Œç®€å•è®°å½•ä¸€ä¸‹ `Rust` çš„é€»è¾‘æ§åˆ¶ï¼Œ è¯¦ç»†çœ‹ä¸€ä¸‹ä¸‹é¢çš„é€»è¾‘



# 1. æ ‡å‡†çš„ `if ... else ...` é€»è¾‘


```rust

#[allow(unused_parens)] // å¿½ç•¥å½“å‰å‡½æ•°çš„å†…ä½¿ç”¨ if æ—¶å…¶æ¡ä»¶åˆ¤æ–­ä¸­ä½¿ç”¨æ‹¬å·é€ æˆçš„è­¦å‘Š
fn main() {
    let  a: i32 = 10;
    // åœ¨ rust é€»è¾‘é‡Œé¢ï¼Œå…¶å¯ä»¥ä½¿ç”¨æ‹¬å·æ‹¬å·æ‹¬ä½ if çš„æ¡ä»¶ï¼Œ
    // ä½†æ˜¯ä¼šæœ‰è­¦å‘Šï¼Œå¯ä»¥åœ¨å½“å‰å‡½æ•°å¤´éƒ¨ä½¿ç”¨  #[allow(unused_parens)] å»å¿½ç•¥æ‰è¿™ä¸ªè­¦å‘Š
    if (a % 3 == 0) {    
        println!(" {a} can be divided by 3")
    }else if a % 2 == 0 {
        println!(" {a} can be divided by 2")
    }else {
        println!("{a} can be divided by some other numbers !")
    }
    // Rust æ²¡æœ‰ä¸‰å…ƒè¡¨è¾¾å¼ï¼Œ ä½†æ˜¯å¯ä»¥æœ‰åƒç±»ä¼¼ python è¯­æ³•ç›¸ä¼¼çš„ ä¸‹é¢çš„è¡¨è¾¾å¼ï¼Œ å› ä¸ºæœ¬è´¨ä¸Š {} å¯ä»¥ä½œä¸ºä¸€ä¸ªå¸¦æœ‰è¿”å›å€¼çš„ ä»£ç å—
    let b = if a %3 == 0 {3} else {0};
    println!("the value of the b is {b}");
}

```

# 2. ä½¿ç”¨ `match` å…³é”®å­—


åœ¨ ä¸€èˆ¬çš„ç¼–ç¨‹è¯­è¨€é‡Œé¢ï¼Œä¸€æåˆ° `if ... else ...` ä¸€å®šä¼šé€ƒä¸å¼€ `switch ... case ...` è¯­æ³•ï¼Œåœ¨å¾ˆå¤šæ—¶å€™è¿™ä¸¤ä¸ªå¤ªç±»ä¼¼å’Œæ··ç”¨äº†ï¼Œ
ä½†æ˜¯åœ¨ `rust` ä¸­ï¼Œæ²¡æœ‰ `switch ... case ...` è¯­æ³•ï¼Œè€Œä¸ä¹‹ä»£æ›¿çš„æ˜¯ä½¿ç”¨ `match` å…³é”®å­—åˆ›å»ºçš„è¯­æ³•ï¼Œè¿™ä¸€ç‚¹å’Œ `Python` æ˜¯åŠå…¶ç›¸ä¼¼çš„,
ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ Rust ç§ä½¿ç”¨ `match`, ä¸éœ€è¦ä½¿ç”¨ å…³é”®å­— `break` æ¥æ–­å¥å’Œé€€å‡ºï¼Œå¯¹äº `rust` ä¸­çš„ `break`  ä¸»è¦æ˜¯ç”¨åœ¨ å¾ªç¯ä½“ä¸­é€€å‡ºã€‚

> ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ å…¶ `match` çš„è¿”å›å€¼çš„ç±»å‹ä¸€å®šéœ€è¦ä¿æŒä¸€è‡´

```rust



#[allow(unused_parens)] // å¿½ç•¥å½“å‰å‡½æ•°çš„å†…ä½¿ç”¨ match æ—¶å…¶æ¡ä»¶åˆ¤æ–­ä¸­ä½¿ç”¨æ‹¬å·é€ æˆçš„è­¦å‘Š
fn main() {
    
    //  æ²¡æœ‰è¿”å›å€¼çš„é€»è¾‘
    let n = 3;
    match (n) {  // æ³¨æ„ï¼š ç†è®ºä¸Š Rust è¯­æ³•ä¸Šä¸å¯ä»¥ä½¿ç”¨ æ‹¬å·åŒ…è£¹ åˆ¤æ–­ æ¡ä»¶ n ï¼Œ ä½†æ˜¯ä½ ä¹Ÿå¯ä»¥ä¸€æ ·å¼ºåˆ¶æ·»åŠ ï¼Œä½†æ­¤æ—¶éœ€è¦åœ¨ å½“å‰å‡½æ•°ä¸Šæ·»åŠ  #[allow(unused_parens)]  å¿½ç•¥è­¦å‘Š
        1 => println!("ä¸€"),
        2 => println!("äºŒ"),
        3 => println!("ä¸‰"),
        _ => println!("å…¶ä»–æ•°å­—"),   // ç±»ä¼¼äº default
    };

    let j: i32 = 3;
    let b: &'static str = match j {
        1 => "a",
        // 2 => return "b", // ğŸ”¥ å½“ j åŒ¹é…åˆ° è¿™é‡Œæ—¶ return ç›´æ¥ç»“æŸ main å‡½æ•°, æ‰€ä»¥ä¸èƒ½è¿™ä¹ˆå†™ï¼Œä¼šæŠ¥é”™
        2 => "e", // ä¸ºäº†è§£å†³ä¸Šé¢æŠ¥é”™éœ€è¦è¿™ä¹ˆå†™
        3 => "c",
        4 => "d",
        _ => "e",
    };

    println!("the value of the b is {b}"); // æ‰“å°ï¼š the value of the b is c


    // æ­¤æ—¶è°ƒç”¨ test å‡½æ•°ï¼Œåˆæ³•
    let c: &str = test();
    println!("the value of the c is {c}"); // æ‰“å°ï¼š the value of the c is 2222

    //  å…¶åˆ¤æ–­æ¡ä»¶å¯ä»¥æ˜¯å¤šç§æƒ…å†µ
    let k = 8;
    match k {
        1 | 2 => println!("æ˜¯ 1 æˆ– 2"),             // å¤šä¸ªå€¼
        3..=7 => println!("åœ¨ 3 åˆ° 7 ä¹‹é—´"),        // 3 ~ 7 åŒºé—´
        _ => println!("å…¶ä»–"),
    }

}

// ä»ä¸‹é¢ å¯ä»¥çœ‹å‡ºæ­¤æ—¶ return å¯ä»¥æ”¾åœ¨ match é‡Œé¢ï¼Œä½†æ˜¯ä¸æ¨èï¼Œä¼šå¯¼è‡´å‡½æ•°ç›´æ¥è·³å‡ºï¼Œå¯¼è‡´åé¢çš„é€»è¾‘æ— æ³•æ­£å¸¸æ‰§è¡Œ
fn test() -> &'static str { // è¿™é‡Œè¿”å›ç±»å‹å¿…é¡»å†™æˆ &'static strï¼Œ è€Œä¸èƒ½æ˜¯ &str, è¿™æ˜¯å› ä¸º  match çš„æ¯ä¸ªå€¼çš„è¿”å›ç±»å‹æ˜¯ &'static str 
    let j: i32 = 2;
    let b: &'static str = match j {
        1 => "a",
        2 =>  return "2222", // åœ¨è‡ªå®šä¹‰åˆ†æ”¯é‡Œé¢æ­¤æ—¶å¯ä»¥è¿™ä¹ˆå†™ï¼Œå› ä¸ºæ­¤æ—¶return åªä½œç”¨äº å½“å‰çš„ test å‡½æ•°ä½“ï¼Œ å½“åŒ¹é…åˆ°è¿™é‡Œæ—¶ï¼Œä¼šç›´æ¥è·³å‡ºå½“å‰ test å‡½æ•°
        3 => "c", // è¿™ä¸ªç±»å‹æ˜¯ &'static str
        4 => "d",  
        _ => "e",  
    };
    //  ä¸‹é¢è¿™ä¸€è¡Œä¸ä¼šè¢«æ‰“å°ï¼Œå› ä¸ºå½“å‰å‡½æ•°ç›´æ¥åœ¨  2 =>  return "b" è·³å‡ºï¼Œä¸ä¼šèµ°ä¸‹é¢ä»»ä½•é€»è¾‘
    println!("finished the match");
    // ä¸‹é¢çš„ return å¯ä»¥å¿½ç•¥
    // return  b;
    b
}

```